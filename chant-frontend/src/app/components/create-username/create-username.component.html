<div class="create-username-container">
  <!-- Professional Header -->
  <div class="hero-section">
    <div class="hero-content">
      <h1 class="hero-title">Om Namah Shivaya 🙏</h1>
      <p class="hero-subtitle">Create Username</p>
      <p class="welcome-message">Create your unique username</p>
    </div>
  </div>

  <!-- Main Content -->
  <div class="content-wrapper">
    <mat-card class="main-card" elevation="8" [@slideIn]>
      <div class="card-header">
        <mat-icon class="header-icon">person_add</mat-icon>
        <h2 class="card-title">Create Username</h2>
        <p class="card-subtitle">Enter username twice to confirm</p>
      </div>

      <!-- Username Creation Form -->
      <form [formGroup]="usernameForm" (ngSubmit)="onSubmit()" class="username-form">
        <div class="form-section">
          <!-- Username Field -->
          <div class="input-container">
            <mat-form-field appearance="outline" class="full-width professional-field">
              <mat-label>Username</mat-label>
              <mat-icon matPrefix>account_circle</mat-icon>
              <input matInput 
                     formControlName="username" 
                     placeholder="Enter your username"
                     autocomplete="off">
              <mat-hint>Min 8 characters, letters/numbers only</mat-hint>
              <mat-error *ngIf="usernameForm.get('username')?.hasError('required')">
                Username required
              </mat-error>
              <mat-error *ngIf="usernameForm.get('username')?.hasError('minlength')">
                Min 8 characters required
              </mat-error>
              <mat-error *ngIf="usernameForm.get('username')?.hasError('pattern')">
                Letters and numbers only
              </mat-error>
            </mat-form-field>
          </div>

          <!-- Confirm Username Field -->
          <div class="input-container">
            <mat-form-field appearance="outline" class="full-width professional-field">
              <mat-label>Re-enter Username</mat-label>
              <mat-icon matPrefix>verified_user</mat-icon>
              <input matInput 
                     formControlName="confirmUsername" 
                     placeholder="Re-enter your username"
                     autocomplete="off">
              <mat-hint>Must match above</mat-hint>
              <mat-error *ngIf="usernameForm.get('confirmUsername')?.hasError('required')">
                Confirm username
              </mat-error>
              <mat-error *ngIf="usernameForm.get('confirmUsername')?.hasError('mismatch')">
                Usernames don't match
              </mat-error>
            </mat-form-field>
          </div>
        </div>

        <!-- Action Buttons -->
        <div class="action-section">
          <button mat-stroked-button 
                  type="button"
                  color="primary" 
                  (click)="goBack()"
                  class="back-button"
                  [disabled]="isLoading">
            <mat-icon>arrow_back</mat-icon>
            <span>Back</span>
          </button>

          <button mat-raised-button 
                  type="submit"
                  color="primary" 
                  class="create-button"
                  [disabled]="usernameForm.invalid || isLoading">
            <mat-spinner *ngIf="isLoading" diameter="20"></mat-spinner>
            <mat-icon *ngIf="!isLoading">person_add</mat-icon>
            <span>{{ isLoading ? 'Creating...' : 'Create' }}</span>
          </button>
        </div>
      </form>

      <!-- Additional Information -->
      <div class="info-section" [@fadeIn]>
        <mat-card class="info-card" elevation="2">
          <mat-card-content>
            <div class="info-header">
              <mat-icon class="info-icon">info</mat-icon>
              <h4>Username Guidelines</h4>
            </div>
            <ul class="guidelines-list">
              <li>Min 8 characters</li>
              <li>Letters and numbers only</li>
              <li>Must be unique</li>
              <li>Cannot be changed later</li>
            </ul>
          </mat-card-content>
        </mat-card>
      </div>
    </mat-card>
  </div>
</div>
